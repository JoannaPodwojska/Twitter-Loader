<!DOCTYPE html>
<html>
<head>
<title>Tweets DB Loader Sample Application</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport"
	content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<link rel="stylesheet" href="style.css" />
</head>
<body >
    <h1>
		Welcome to the <span class="blue">Tweets DB Loader</span> on Bluemix!
   	</h1>
	<div class = "leftHalf">
		<div class = "center">
			<header>
				<div class='title'>
					Step 1: select tweets
					<button class='detailBtn' onclick="toggleTwitterInfo()"
						title='toggle twitter info'>
						<img src='images/twitter.png' alt='twitter details' />
					</button>
				</div>
			</header>
			<section>
				<table id='twitterinfo' class='todolist' style='display: none;'>
					<tbody>
						<tr>
							<td width='25%' class='fieldname'>Service</td>
							<td id='envTwitterServiceName'></td>
						</tr>
						<tr>
							<td class='fieldname'>Host: </td>
							<td id='envTwitterHost'></td>
						</tr>
						<tr>
							<td class='fieldname'>Port: </td>
							<td id='envTwitterPort'></td>
						</tr>
					</tbody>
				</table>
			</section>
			<section>
				<p></p>
				<table width='90%'>
					<tr>
						<td width='80%'>
							<textarea id='tweetquery' cols='60' rows='1' placeholder='Enter your twitter search criteria here...' onkeyup='tweetqueryModified(this)'></textarea>
						</td>
						<td width='20%'>
							<button id="countbutton" onclick="countTweets()" title='count number of tweets' disabled='true'>
								Count tweets
							</button>
						</td>
					</tr>
					<tr><td><br/></td><td><br/></td></tr>
					<tr>
						<td id='numtweets' colspan='2' class='redArea'>
							<br/>No tweets selected...<br/><br/>
						</td>
					</tr>
				</table>
			</section>
			<footer>
				<div class='tips' style='font-size: 75%;'>
					<p>Example: #IBM (bluemix OR "blue mix") sentiment:positive lang:de posted:2015-01-01T00:00:00,2015-02-02:23:59:59</p>
					<p>See documentation <a href='https://www.ng.bluemix.net/docs/#services/Twitter/index.html#twitter'>https://www.ng.bluemix.net/docs/#services/Twitter/index.html#twitter</a>.</p>
				</div>
			</footer>

		</div>
	</div>
	<div class = "rightHalf">
		<div class = "center">
			<header>
				<div class='title'>
					Step 2: select new table name
					<button class='detailBtn' onclick="toggleDatabaseInfo()"
						title='toggle database info'>
						<img src='images/database.png' alt='database details' />
					</button>
				</div>
			</header>
			<section>
				<table id='dbinfo' class="todolist" style='display: none;'>
					<tbody>
						<tr>
							<td width='25%' class='fieldname'>Service: </td>
							<td id='envDbServiceName'></td>
						</tr>
						<tr>
							<td class='fieldname'>Host: </td>
							<td id='envDbHost'></td>
						</tr>
						<tr>
							<td class='fieldname'>Port: </td>
							<td id='envDbPort'></td>
						</tr>
						<tr>
							<td class='fieldname'>Database: </td>
							<td id='envDbName'></td>
						</tr>
					</tbody>
				</table>
			</section>
			<section>
				<div id='tablelist' width='70%' height='20%' >
				Loading existing table names...
				</div>
			</section>
			<section>
				<p></p>
				<table width='90%'>
					<tr>
						<td width='10%'>
							<button class='detailBtn' onclick="toggleColumns()"
								title='toggle column details'>&gt;</button>
						</td>
						<td width='70%'>
							<textarea id='tablename' cols='60' rows='1' placeholder='Enter your table name here...' onkeyup='tablenameModified(this)'></textarea>
						</td>
						<td width='20%'>
							<button id="loadbutton" onclick="loadTweets()" title='load tweets into table' disabled='true'>
								Load tweets
							</button>
						</td>
					</tr>
					<tr><td><br/></td><td><br/></td><td><br/></td></tr>
					<tr>
						<td id='tableok' colspan='2' class='redArea'>
							<br/>No table name...<br/><br/>
						</td>
					</tr>
				</table>
			</section>
			<section id='columns'>
				<table width='90%'>
					<thead><tr><td></td><td>column</td><td>type</td><td>twitter tag</td></tr></thead>
					<tr><td><input type='checkbox' checked></input></td><td><textarea cols='20' rows='1'>msgId</textarea></td><td>VARCHAR(128)</td><td>message.id</td></tr>
					<tr><td><input type='checkbox' checked></input></td><td><textarea cols='20' rows='1'>msgType</textarea></td><td>VARCHAR(128)</td><td>message.verb</td></tr>
					<tr><td><input type='checkbox' checked></input></td><td><textarea cols='20' rows='1'>msgPostedTime</textarea></td><td>TIMESTAMP</td><td>message.postedTime</td></tr>
					<tr><td><input type='checkbox' checked></input></td><td><textarea cols='20' rows='1'>msgBody</textarea></td><td>VARCHAR(2048)</td><td>message.body</td></tr>
					<tr><td><input type='checkbox' checked></input></td><td><textarea cols='20' rows='1'>msgHashtags</textarea></td><td>VARCHAR(2048)</td><td>message.twitter_entities.hashtags</td></tr>
					<tr><td><input type='checkbox' checked></input></td><td><textarea cols='20' rows='1'>msgCoordType</textarea></td><td>VARCHAR(128)</td><td>message.gnip.profileLocations.geo.type</td></tr>
					<tr><td><input type='checkbox' checked></input></td><td><textarea cols='20' rows='1'>msgCoordinates</textarea></td><td>VARCHAR(128)</td><td>message.gnip.profileLocations.geo.coordinates</td></tr>
					<tr><td><input type='checkbox' checked></input></td><td><textarea cols='20' rows='1'>smaAuthorCountry</textarea></td><td>VARCHAR(128)</td><td>cde.author.location.country</td></tr>
					<tr><td><input type='checkbox' checked></input></td><td><textarea cols='20' rows='1'>smaAuthorState</textarea></td><td>VARCHAR(128)</td><td>cde.author.location.state</td></tr>
					<tr><td><input type='checkbox' checked></input></td><td><textarea cols='20' rows='1'>smaAuthorCity</textarea></td><td>VARCHAR(128)</td><td>cde.author.location.city</td></tr>
					<tr><td><input type='checkbox' checked></input></td><td><textarea cols='20' rows='1'>smaAuthorGender</textarea></td><td>VARCHAR(128)</td><td>cde.author.gender</td></tr>
					<tr><td><input type='checkbox' checked></input></td><td><textarea cols='20' rows='1'>smaSentiment</textarea></td><td>VARCHAR(128)</td><td>cde.content.sentiment.polarity</td></tr>
					<tr><td><input type='checkbox' checked></input></td><td><textarea cols='20' rows='1'>generatorDisplayName</textarea></td><td>VARCHAR(128)</td><td>message.generator.displayName</td></tr>
					<tr><td><input type='checkbox' checked></input></td><td><textarea cols='20' rows='1'>userId</textarea></td><td>VARCHAR(128)</td><td>message.actor.id</td></tr>
					<tr><td><input type='checkbox' checked></input></td><td><textarea cols='20' rows='1'>userDisplayName</textarea></td><td>VARCHAR(128)</td><td>message.actor.displayName</td></tr>
					<tr><td><input type='checkbox' checked></input></td><td><textarea cols='20' rows='1'>userPreferredUsername</textarea></td><td>VARCHAR(128)</td><td>message.actor.preferredUsername</td></tr>
					<tr><td><input type='checkbox' checked></input></td><td><textarea cols='20' rows='1'>userLink</textarea></td><td>VARCHAR(128)</td><td>message.actor.links.href</td></tr>
					<tr><td><input type='checkbox' checked></input></td><td><textarea cols='20' rows='1'>userLocation</textarea></td><td>VARCHAR(128)</td><td>message.actor.location.displayName</td></tr>
					<tr><td><input type='checkbox' checked></input></td><td><textarea cols='20' rows='1'>userUtcOffset</textarea></td><td>VARCHAR(128)</td><td>message.actor.utcOffset</td></tr>
					<tr><td><input type='checkbox' checked></input></td><td><textarea cols='20' rows='1'>userLanguage</textarea></td><td>VARCHAR(128)</td><td>message.actor.languages</td></tr>
					<tr><td><input type='checkbox' checked></input></td><td><textarea cols='20' rows='1'>userFollowersCount</textarea></td><td>INTEGER</td><td>message.actor.followersCount</td></tr>
					<tr><td><input type='checkbox' checked></input></td><td><textarea cols='20' rows='1'>userFriendsCount</textarea></td><td>INTEGER</td><td>message.actor.friendsCount</td></tr>
					<tr><td><input type='checkbox' checked></input></td><td><textarea cols='20' rows='1'>userListedCount</textarea></td><td>INTEGER</td><td>message.actor.listedCount</td></tr>
					<tr><td><input type='checkbox' checked></input></td><td><textarea cols='20' rows='1'>userStatusesCount</textarea></td><td>INTEGER</td><td>message.actor.statusesCount</td></tr>
					<tr><td><input type='checkbox' checked></input></td><td><textarea cols='20' rows='1'>userVerified</textarea></td><td>VARCHAR(5)</td><td>message.actor.verified</td></tr>
				</table>
			</section>
			</section>
			<section id='progress' style='display: none;'>
				<p id='phase'>Not loaded...</p>
				<progress id='progress' max='1.0' value='0.0' style:'width: 100%;'><span>0</span>/<span>0</span></progress>
			</section>
			<footer>
				<div class='tips' style='font-size: 75%;'>
					<p>Specify a non-existing table name... The name is case-sensitive.</p>
				</div>
			</footer>
		</div>
	</div>
	
	<script type="text/javascript" src="util.js"></script>
	<script type="text/javascript" src="index.js"></script>
				

</body>
</html>
